<?xml version="1.0" encoding="utf-8" ?>
<Defs>
	<StatDef>
		<!-- 格挡概率 -->
		<defName>VMM_MeleeParryChance</defName>
		<label>melee parry chance</label>
		<description>Chance to partially block incoming melee attacks.</description>
		<category>PawnCombat</category>
		<workerClass>VMM_VanillaMeleeModes.Stat.VMM_StatWorker</workerClass>
		<toStringStyle>PercentZero</toStringStyle>
		<toStringStyleUnfinalized>FloatOne</toStringStyleUnfinalized>
		<defaultBaseValue>0</defaultBaseValue>
		<minValue>0</minValue>
		<maxValue>0.9</maxValue>
		<noSkillOffset>0</noSkillOffset>
		<skillNeedOffsets>
			<li Class="SkillNeed_BaseBonus">
				<skill>Melee</skill>
				<baseValue>1</baseValue>
				<bonusPerLevel>1.2</bonusPerLevel>
			</li>
		</skillNeedOffsets>
		<!-- Result = num * ( 1 + ( Max(capacity,max) - 1 ) * weight ) -->
		<capacityFactors>
			<li>
				<capacity>Sight</capacity>
				<weight>0.7</weight>
				<max>1</max>
			</li>
			<li>
				<capacity>Manipulation</capacity>
				<weight>1</weight>
			</li>
		</capacityFactors>

		<postProcessCurve>
			<points>
				<li>(0.0, 0.0)</li>
				<li>(3, 0.18)</li>
				<li>(6, 0.28)</li>
				<li>(12, 0.37)</li>
				<li>(24, 0.46)</li>
				<li>(32, 0.5)</li>
				<li>(40, 0.55)</li>
				<li>(90,  0.86)</li>
				<li>(100,  0.9)</li>
			</points>
		</postProcessCurve>
		<parts>
			<li Class="StatPart_Age" MayRequire="Ludeon.RimWorld.Biotech">
				<useBiologicalYears>true</useBiologicalYears>
				<humanlikeOnly>true</humanlikeOnly>
				<curve>
					<points>
						<li>(4,0.05)</li>
						<li>(12,0.8)</li>
						<li>(13,1)</li>
					</points>
				</curve>
			</li>
			<li Class="VMM_VanillaMeleeModes.Stat.VMM_MeleeMode_MeleeParryChance_FactorPart"/>
		</parts>
	</StatDef>

	<StatDef>
		<!-- 格挡减伤 -->
		<defName>VMM_MeleeParryDamageReduction</defName>
		<label>melee parry damage reduction</label>
		<description>Damage reduction when block incoming melee attacks.</description>
		<category>PawnCombat</category>
		<workerClass>VMM_VanillaMeleeModes.Stat.VMM_StatWorker</workerClass>
		<toStringStyle>PercentZero</toStringStyle>
		<toStringStyleUnfinalized>FloatOne</toStringStyleUnfinalized>
		<defaultBaseValue>0</defaultBaseValue>
		<minValue>0.5</minValue>
		<maxValue>1</maxValue>
		<noSkillOffset>5</noSkillOffset>
		<skillNeedOffsets>
			<li Class="SkillNeed_BaseBonus">
				<skill>Melee</skill>
				<baseValue>5</baseValue>
				<bonusPerLevel>5</bonusPerLevel>
			</li>
		</skillNeedOffsets>
		<!-- (Mathf.Min(capacityEfficiency, max) - 1f) * scale; -->
		<capacityOffsets>
			<li>
				<capacity>Manipulation</capacity>
				<scale>16</scale>
				<max>2</max>
			</li>
			<li>
				<capacity>Sight</capacity>
				<scale>10</scale>
				<max>2</max>
			</li>
		</capacityOffsets>
		<postProcessCurve>
			<points>
				<li>(0.0, 0.50)</li>
				<li>(5.0, 0.60)</li>
				<li>(10.0, 0.70)</li>
				<li>(15.0, 0.80)</li>
				<li>(20.0, 0.87)</li>
				<li>(25.0, 0.92)</li>
				<li>(30.0, 0.96)</li>
				<li>(35.0, 1.0)</li>
			</points>
		</postProcessCurve>
		<parts>
			<li Class="StatPart_Age" MayRequire="Ludeon.RimWorld.Biotech">
				<useBiologicalYears>true</useBiologicalYears>
				<humanlikeOnly>true</humanlikeOnly>
				<curve>
					<points>
						<li>(4,0.05)</li>
						<li>(12,0.8)</li>
						<li>(13,1)</li>
					</points>
				</curve>
			</li>
			<li Class="VMM_VanillaMeleeModes.Stat.VMM_MeleeMode_MeleeParryDamageReduction_FactorPart"/>
		</parts>
	</StatDef>

	<StatDef>
		<!-- 反击概率 -->
		<defName>VMM_MeleeCounterChance</defName>
		<label>melee counter chance</label>
		<description>Chance to counter attack when parry incoming melee attacks.</description>
		<category>PawnCombat</category>
		<workerClass>VMM_VanillaMeleeModes.Stat.VMM_StatWorker</workerClass>
		<toStringStyle>PercentZero</toStringStyle>
		<toStringStyleUnfinalized>FloatOne</toStringStyleUnfinalized>
		<defaultBaseValue>0</defaultBaseValue>
		<minValue>0</minValue>
		<maxValue>0.9</maxValue>
		<noSkillOffset>0</noSkillOffset>
		<skillNeedOffsets>
			<li Class="SkillNeed_BaseBonus">
				<skill>Melee</skill>
				<baseValue>1</baseValue>
				<bonusPerLevel>1.2</bonusPerLevel>
			</li>
		</skillNeedOffsets>

		<capacityFactors>
			<li>
				<capacity>Sight</capacity>
				<weight>0.7</weight>
				<max>1</max>
			</li>
			<li>
				<capacity>Manipulation</capacity>
				<weight>1</weight>
			</li>
		</capacityFactors>

		<postProcessCurve>
			<points>
				<li>(0.0, 0.0)</li>
				<li>(3, 0.18)</li>
				<li>(6, 0.28)</li>
				<li>(12, 0.37)</li>
				<li>(24, 0.46)</li>
				<li>(32, 0.5)</li>
				<li>(40, 0.55)</li>
				<li>(90,  0.86)</li>
				<li>(100,  0.9)</li>
			</points>
		</postProcessCurve>
		<parts>
			<li Class="StatPart_Age" MayRequire="Ludeon.RimWorld.Biotech">
				<useBiologicalYears>true</useBiologicalYears>
				<humanlikeOnly>true</humanlikeOnly>
				<curve>
					<points>
						<li>(4,0.05)</li>
						<li>(12,0.8)</li>
						<li>(13,1)</li>
					</points>
				</curve>
			</li>
			<li Class="VMM_VanillaMeleeModes.Stat.VMM_MeleeMode_MeleeCounterChance_FactorPart"/>
		</parts>
	</StatDef>
</Defs>